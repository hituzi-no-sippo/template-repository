= Renovate
:author: hituzi no sippo
:email: dev@hituzi-no-sippo.me
:revnumber: v0.7.0
:revdate: 2023-09-30T14:06:30+09:00
:revremark: add description of automerge
:toc:
:copyright: Copyright (C) 2023 {author}

:renovate_doc_url: https://docs.renovatebot.com
:github_docs_url: https://docs.github.com/en
:github_url: https://github.com

link:{renovate_doc_url}[
Renovate^] is automatic dependency updater.

:config_options_url: {renovate_doc_url}/configuration-options
:module_manager_url: {renovate_doc_url}/modules/manager
:supported_managers_url: {module_manager_url}/#supported-managers
== Why not use Dependabot?

* One setting enables automerge
** link:{config_options_url}/#automerge[
   Set `true` to `automerge` option^]
** link:{renovate_doc_url}/key-concepts/automerge/[
   Automerge configuration and troubleshooting^]
* Supported many managers
** link:{supported_managers_url}[Renovate^]
** link:{github_docs_url}/code-security/dependabot/dependabot-version-updates/about-dependabot-version-updates#supported-repositories-and-ecosystems[
   Dependabot^]
* Can update multiple packages in a single pull request
** link:{renovate_doc_url}/noise-reduction/#package-grouping[
   Package Grouping^]
** link:{config_options_url}/#groupname[
   `groupName`^]
** link:{config_options_url}/#packagerules[
   `packageRules`^]

== Supported managers

* link:{module_manager_url}/github-actions/[
  GitHub Actions^]
* link:{module_manager_url}/npm/[
  npm^]
* link:{module_manager_url}/dockerfile/[
  Dockerfile^]
* link:{module_manager_url}/gomod/[
  gomod^]
* link:{module_manager_url}/cargo/[
  cargo^]

See link:{supported_managers_url}[Supported Managers^] for more details.

== Configuration

:display_file_path: ../_partials/display_file_in_details_disclosure_element.adoc
:block_title_name: Configuration File
:file_path_from_root: .renovaterc.json
:file_lang: JSON
include::{display_file_path}[]

.Automerge (Default)
[horizontal]
Major(`1.0.0` => `2.0.0`):: disable
Minor(`1.0.0` => `1.1.0`):: disable
Patch(`1.0.0` => `1.0.1`):: Enable

.Schedule
[horizontal]
Create branch (`schedule`)::
  link:{config_options_url}/#schedule[
  `at any time` (default)^]
Automerge (`automergeschedule`)::
  link:{config_options_url}/#automergeschedule[
  `at any time` (default)^]

.Limit
[horizontal]
Max number of concurrent opened PRs(`prConcurrentLimit`)::
  link:{config_options_url}/#prconcurrentlimit[
  "0 = no limit (default)"^]
Max number of concurrent branches(`branchConcurrentLimit`)::
  link:{config_options_url}/#branchconcurrentlimit[
  "0 = no limit (default,inherits value from `prConcurrentLimit`)"^]
Max number of PRs created per hour (`prHourlyLimit`)::
  link:{config_options_url}/#prhourlylimit[
  "0 = no limit (default)"^]

.Dashboard
* link:{config_options_url}/#dependencyDashboard[
  Create a "Dependency Dashboard" issue^]
* link:{config_options_url}/#dependencyDashboardAutoclose[
  Close "Dependency Dashboard" issue if there are no more updates^]

.If you feel that Renovate is too noisy
[NOTE]
====
.Change the values of the following options
* schedule
** `schedule`
** `automergeschedule`
* Limit
** `prConcurrentLimit`
** `branchConcurrentLimit`

See link:{renovate_doc_url}/noise-reduction/[Noisy Reduction^]
====

== Setup

=== Repository setting on GitHub

// tag::repository_setting_on_github[]

==== Install GitHub App for automated dependency updates

Required to automated dependency updates.

Install link:{github_url}/marketplace/renovate[Renovate^] of GitHub App.

See link:{github_url}/renovatebot/tutorial[tutorial^] for more details.

[CAUTION]
.Need to install Renovate approve
====
If link:{github_docs_url}/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/managing-a-branch-protection-rule#creating-a-branch-protection-rule[
`Require approvals` is enable of branch protection rule^],
need to install approve apps.

:renovate_approve_url: {github_url}/apps/renovate-approve
.Approve apps
* link:{renovate_approve_url}[Renovate Approve^]
* link:{renovate_approve_url}-2[Renovate Approve 2^] +
  If min 2 PR reviewers.
====

// end::repository_setting_on_github[]

'''

The license for this document is link:https://choosealicense.com/licenses/mit-0/[
MIT-0^] License. +
Does not require preservation of copyright and license notices.

:author_link: link:https://github.com/hituzi-no-sippo[{author}^]
Copyright (C) 2023 {author_link}
