= Setup
:author: hituzi no sippo
:email: dev@hituzi-no-sippo.me
:revnumber: v0.9.0
:revdate: 2023-10-07T08:51:55+09:00
:revremark: add repository setting on GitHub for security for GitHub Actions
:copyright: Copyright (C) 2023 {author}

// tag::body[]

:github_url: https://github.com

// tag::main[]

== Build a local development environment

:owner_name: hituzi-no-sippo
:repository_name: template-repository
:repository: {owner_name}/{repository_name}
:repository_url: {github_url}/{repository}
:aqua_url: https://aquaproj.github.io
:script_directory_from_root: ./scripts
:install_aqua_shell_path_from_root: {script_directory_from_root}/install_aqua.sh
:setup_shell_path_from_root: {script_directory_from_root}/setup.sh
. Create repository with this template
* `gh repo create <REPOSITORY_NAME> --public --template {repository}`
* link:{repository_url}/generate[Use this template^]
. Clone repository +
  `gh repo clone <REPOSITORY_NAME> && cd <REPOSITORY_NAME>`
. link:{aqua_url}/docs/tutorial/#install-aqua[
  Install aqua that is tool version manager^] with shell script^
  `bash {install_aqua_shell_path_from_root}`
. Run setup shell script +
  `bash {setup_shell_path_from_root}`

:block_title_name: Install aqua
:file_lang: bash
:file_path_from_root: {install_aqua_shell_path_from_root}
include::./_partials/display_file_in_details_disclosure_element.adoc[]

:block_title_name: Setup shell script
:file_lang: bash
:file_path_from_root: {setup_shell_path_from_root}
include::./_partials/display_file_in_details_disclosure_element.adoc[]

== Repository setting on GitHub

[NOTE]
====
The following content is the same as the content
in a document under `docs/dev` directory.
This is because it includes a content from another file.
Include a content by using link:https://docs.asciidoctor.org/asciidoc/latest/directives/include/[
include directive in AsciiDoc^].
====

=== Security

==== GitHub Actions

Install link:{github_url}/apps/stepsecurity-actions-security[
StepSecurity Actions Security GitHub App^].

.Security works without install GitHub App.
[NOTE]
====
If you want to notify security alert, install GitHub App.
====

include::./security/github_actions.adoc[tag=security_alert_notification, leveloffset=+2]

=== Dependencies

==== Tool version manager

include::./deps/tool_version_manager.adoc[tag=repository_setting_on_github, leveloffset=+1]

==== Renovate

include::./deps/renovate.adoc[tag=repository_setting_on_github, leveloffset=+1]

// end::main[]

// end::body[]

'''

The license for this document is link:https://choosealicense.com/licenses/mit-0/[
MIT-0^] License. +
Does not require preservation of copyright and license notices.

:author_link: link:https://github.com/hituzi-no-sippo[{author}^]
Copyright (C) 2023 {author_link}
